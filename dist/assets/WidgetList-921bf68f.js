import{W as e,X as t,Y as a,Z as l,$ as n,a0 as o,a1 as s,r as i,A as r,f as u,a2 as c,a3 as d,a4 as v,a5 as p,E as f,a6 as h,a7 as m,d as g,a8 as y,o as k,c as I,a as C,k as b,w,e as x,a9 as _,aa as S,b as M,ab as E,ac as A,v as N,T as H,x as T,ad as W,s as B,n as L,F as $,ae as z,t as V,af as P,z as j,G as D,ag as K,ah as O,ai as R,aj as X,u as Y,ak as F,al as G,D as Z,am as q,an as J,_ as Q}from"./index-e72707c1.js";function U(a,l,n){var o=!0,s=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return e(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),t(a,l,{leading:o,maxWait:l,trailing:s})}const ee=(e,t)=>{const o={},s=a([]);return{children:s,addChild:a=>{o[a.uid]=a,s.value=((e,t,a)=>l(e.subTree).filter((e=>{var a;return n(e)&&(null==(a=e.type)?void 0:a.name)===t&&!!e.component})).map((e=>e.component.uid)).map((e=>a[e])).filter((e=>!!e)))(e,t,o)},removeChild:e=>{delete o[e],s.value=s.value.filter((t=>t.uid!==e))}}},te=o({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),ae={change:(e,t)=>[e,t].every(s)},le=Symbol("carouselContextKey"),ne=(e,t,l)=>{const{children:n,addChild:o,removeChild:s}=ee(m(),"ElCarouselItem"),g=i(-1),y=i(null),k=i(!1),I=i(),C=i(0),b=r((()=>"never"!==e.arrow&&!u(_))),w=r((()=>n.value.some((e=>e.props.label.toString().length>0)))),x=r((()=>"card"===e.type)),_=r((()=>"vertical"===e.direction)),S=r((()=>"auto"!==e.height?{height:e.height}:{height:`${C.value}px`,overflow:"hidden"})),M=U((e=>{T(e)}),300,{trailing:!0}),E=U((t=>{!function(t){"hover"===e.trigger&&t!==g.value&&(g.value=t)}(t)}),300);function A(){y.value&&(clearInterval(y.value),y.value=null)}function N(){e.interval<=0||!e.autoplay||y.value||(y.value=setInterval((()=>H()),e.interval))}const H=()=>{g.value<n.value.length-1?g.value=g.value+1:e.loop&&(g.value=0)};function T(t){if(h(t)){const e=n.value.filter((e=>e.props.name===t));e.length>0&&(t=n.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const a=n.value.length,l=g.value;g.value=t<0?e.loop?a-1:0:t>=a?e.loop?0:a-1:t,l===g.value&&W(l),B()}function W(e){n.value.forEach(((t,a)=>{t.translateItem(a,g.value,e)}))}function B(){A(),N()}c((()=>g.value),((e,a)=>{W(a),a>-1&&t("change",e,a)})),c((()=>e.autoplay),(e=>{e?N():A()})),c((()=>e.loop),(()=>{T(g.value)})),c((()=>e.interval),(()=>{B()})),c((()=>n.value),(()=>{n.value.length>0&&T(e.initialIndex)}));const L=a();return d((()=>{L.value=v(I.value,(()=>{W()})),N()})),p((()=>{A(),I.value&&L.value&&L.value.stop()})),f(le,{root:I,isCardType:x,isVertical:_,items:n,loop:e.loop,addItem:o,removeItem:s,setActiveItem:T,setContainerHeight:function(t){"auto"===e.height&&(C.value=t)}}),{root:I,activeIndex:g,arrowDisplay:b,hasLabel:w,hover:k,isCardType:x,items:n,isVertical:_,containerStyle:S,handleButtonEnter:function(e){u(_)||n.value.forEach(((t,a)=>{e===function(e,t){var a,l,o,s;const i=u(n),r=i.length;if(0===r||!e.states.inStage)return!1;const c=t+1,d=t-1,v=r-1,p=i[v].states.active,f=i[0].states.active,h=null==(l=null==(a=i[c])?void 0:a.states)?void 0:l.active,m=null==(s=null==(o=i[d])?void 0:o.states)?void 0:s.active;return t===v&&f||h?"left":!!(0===t&&p||m)&&"right"}(t,a)&&(t.states.hover=!0)}))},handleButtonLeave:function(){u(_)||n.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){g.value=e},handleMouseEnter:function(){k.value=!0,e.pauseOnHover&&A()},handleMouseLeave:function(){k.value=!1,N()},setActiveItem:T,prev:function(){T(g.value-1)},next:function(){T(g.value+1)},throttledArrowClick:M,throttledIndicatorHover:E}},oe=["onMouseenter","onClick"],se={key:0},ie=g({name:"ElCarousel"});var re=P(g({...ie,props:te,emits:ae,setup(e,{expose:t,emit:a}){const l=e,{root:n,activeIndex:o,arrowDisplay:s,hasLabel:i,hover:c,isCardType:d,items:v,isVertical:p,containerStyle:f,handleButtonEnter:h,handleButtonLeave:m,handleIndicatorClick:g,handleMouseEnter:P,handleMouseLeave:j,setActiveItem:D,prev:K,next:O,throttledArrowClick:R,throttledIndicatorHover:X}=ne(l,a),Y=y("carousel"),F=r((()=>{const e=[Y.b(),Y.m(l.direction)];return u(d)&&e.push(Y.m("card")),e})),G=r((()=>{const e=[Y.e("indicators"),Y.em("indicators",l.direction)];return u(i)&&e.push(Y.em("indicators","labels")),"outside"===l.indicatorPosition&&e.push(Y.em("indicators","outside")),u(p)&&e.push(Y.em("indicators","right")),e}));return t({setActiveItem:D,prev:K,next:O}),(e,t)=>(k(),I("div",{ref_key:"root",ref:n,class:_(u(F)),onMouseenter:t[6]||(t[6]=S(((...e)=>u(P)&&u(P)(...e)),["stop"])),onMouseleave:t[7]||(t[7]=S(((...e)=>u(j)&&u(j)(...e)),["stop"]))},[C("div",{class:_(u(Y).e("container")),style:L(u(f))},[u(s)?(k(),b(H,{key:0,name:"carousel-arrow-left",persisted:""},{default:w((()=>[x(C("button",{type:"button",class:_([u(Y).e("arrow"),u(Y).em("arrow","left")]),onMouseenter:t[0]||(t[0]=e=>u(h)("left")),onMouseleave:t[1]||(t[1]=(...e)=>u(m)&&u(m)(...e)),onClick:t[2]||(t[2]=S((e=>u(R)(u(o)-1)),["stop"]))},[M(u(E),null,{default:w((()=>[M(u(A))])),_:1})],34),[[N,("always"===e.arrow||u(c))&&(l.loop||u(o)>0)]])])),_:1})):T("v-if",!0),u(s)?(k(),b(H,{key:1,name:"carousel-arrow-right",persisted:""},{default:w((()=>[x(C("button",{type:"button",class:_([u(Y).e("arrow"),u(Y).em("arrow","right")]),onMouseenter:t[3]||(t[3]=e=>u(h)("right")),onMouseleave:t[4]||(t[4]=(...e)=>u(m)&&u(m)(...e)),onClick:t[5]||(t[5]=S((e=>u(R)(u(o)+1)),["stop"]))},[M(u(E),null,{default:w((()=>[M(u(W))])),_:1})],34),[[N,("always"===e.arrow||u(c))&&(l.loop||u(o)<u(v).length-1)]])])),_:1})):T("v-if",!0),B(e.$slots,"default")],6),"none"!==e.indicatorPosition?(k(),I("ul",{key:0,class:_(u(G))},[(k(!0),I($,null,z(u(v),((t,a)=>(k(),I("li",{key:a,class:_([u(Y).e("indicator"),u(Y).em("indicator",e.direction),u(Y).is("active",a===u(o))]),onMouseenter:e=>u(X)(a),onClick:S((e=>u(g)(a)),["stop"])},[C("button",{class:_(u(Y).e("button"))},[u(i)?(k(),I("span",se,V(t.props.label),1)):T("v-if",!0)],2)],42,oe)))),128))],2)):T("v-if",!0)],34))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const ue=o({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ce=(e,t)=>{const a=j(le),l=m(),n=.83,o=i(),s=i(!1),r=i(0),c=i(1),v=i(!1),p=i(!1),f=i(!1),h=i(!1),{isCardType:g,isVertical:y}=a;const k=(e,t,l)=>{var s;const i=u(g),d=null!=(s=a.items.value.length)?s:Number.NaN,m=e===t;i||O(l)||(h.value=m||e===l),!m&&d>2&&a.loop&&(e=function(e,t,a){const l=a-1,n=a/2;return 0===t&&e===l?-1:t===l&&0===e?a:e<t-1&&t-e>=n?a+1:e>t+1&&e-t>=n?-2:e}(e,t,d));const k=u(y);v.value=m,i?(f.value=Math.round(Math.abs(e-t))<=1,r.value=function(e,t){var l,n;const o=u(y)?(null==(l=a.root.value)?void 0:l.offsetHeight)||0:(null==(n=a.root.value)?void 0:n.offsetWidth)||0;return f.value?o*(1.17*(e-t)+1)/4:e<t?-1.83*o/4:3.83*o/4}(e,t),c.value=u(v)?1:n):r.value=function(e,t,l){const n=a.root.value;return n?((l?n.offsetHeight:n.offsetWidth)||0)*(e-t):0}(e,t,k),p.value=!0,m&&o.value&&a.setContainerHeight(o.value.offsetHeight)};return d((()=>{a.addItem({props:e,states:D({hover:s,translate:r,scale:c,active:v,ready:p,inStage:f,animating:h}),uid:l.uid,translateItem:k})})),K((()=>{a.removeItem(l.uid)})),{carouselItemRef:o,active:v,animating:h,hover:s,inStage:f,isVertical:y,translate:r,isCardType:g,scale:c,ready:p,handleItemClick:function(){if(a&&u(g)){const e=a.items.value.findIndex((({uid:e})=>e===l.uid));a.setActiveItem(e)}}}},de=g({name:"ElCarouselItem"});var ve=P(g({...de,props:ue,setup(e){const t=e,a=y("carousel"),{carouselItemRef:l,active:n,animating:o,hover:s,inStage:i,isVertical:c,translate:d,isCardType:v,scale:p,ready:f,handleItemClick:h}=ce(t),m=r((()=>({transform:[`${"translate"+(u(c)?"Y":"X")}(${u(d)}px)`,`scale(${u(p)})`].join(" ")})));return(e,t)=>x((k(),I("div",{ref_key:"carouselItemRef",ref:l,class:_([u(a).e("item"),u(a).is("active",u(n)),u(a).is("in-stage",u(i)),u(a).is("hover",u(s)),u(a).is("animating",u(o)),{[u(a).em("item","card")]:u(v),[u(a).em("item","card-vertical")]:u(v)&&u(c)}]),style:L(u(m)),onClick:t[0]||(t[0]=(...e)=>u(h)&&u(h)(...e))},[u(v)?x((k(),I("div",{key:0,class:_(u(a).e("mask"))},null,2)),[[N,!u(n)]]):T("v-if",!0),B(e.$slots,"default")],6)),[[N,u(f)]])}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const pe=R(re,{CarouselItem:ve}),fe=X(ve),he={class:"box"},me={class:"footer"},ge=Q(g({__name:"WidgetList",setup(e){const t=Y();return(e,a)=>{const l=fe,n=pe,o=q,s=J;return k(),b(Z,{bodyStyle:{padding:"14px"},title:"添加小组件"},{default:w((()=>[M(s,{gutter:14},{default:w((()=>[(k(!0),I($,null,z(u(F),((e,a)=>(k(),b(o,{md:12,sm:24,key:a},{default:w((()=>[C("div",he,[M(n,{autoplay:!1},{default:w((()=>[(k(!0),I($,null,z(e.sizes,((a,n)=>(k(),b(l,{key:n},{default:w((()=>[M(G,{size:a,type:"addWidget",onAddWidget:l=>((e,a)=>{t.addPageWidget(e.key,a)})(e,a),scale:"",componentKey:e.key},null,8,["size","onAddWidget","componentKey"])])),_:2},1024)))),128))])),_:2},1024),C("div",me,[C("h2",null,V(e.name),1),C("p",null,V(e.text),1)])])])),_:2},1024)))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-97dbc540"]]);export{ge as default};
